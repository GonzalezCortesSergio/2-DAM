import './polyfills.server.mjs';
import{$ as _t,A as W,B as fe,C as ot,D as O,E as ge,F as rt,G as me,H as be,I as at,J as ye,K as ve,L as F,M as De,N as Se,O as Oe,P as b,Q as v,R as B,S as we,T as lt,U as ct,V as dt,W as ht,X as ut,Y as C,Z as Y,_ as Te,a as Je,aa as Ee,b as y,c as Qe,ca as pt,d as ce,e as de,f as S,g as qe,h as V,ha as J,i as Xe,ia as Q,j as K,k as he,ka as ft,l as et,la as gt,m as tt,ma as mt,n as g,na as bt,o as it,oa as yt,p as ue,q as E,r as d,ra as vt,s as nt,t as st,u as _,v as M,w as h,x as _e,xa as Ce,y as k,z as pe}from"./chunk-UXMCDMBU.mjs";import{a as $,b as z,h as f}from"./chunk-5XUXGTUW.mjs";var ui=[],q=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=h({type:e});static \u0275inj=d({imports:[Ce.forRoot(ui),Ce]})};var _i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var St=function(e){let i=[],t=0;for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);s<128?i[t++]=s:s<2048?(i[t++]=s>>6|192,i[t++]=s&63|128):(s&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023),i[t++]=s>>18|240,i[t++]=s>>12&63|128,i[t++]=s>>6&63|128,i[t++]=s&63|128):(i[t++]=s>>12|224,i[t++]=s>>6&63|128,i[t++]=s&63|128)}return i},pi=function(e){let i=[],t=0,n=0;for(;t<e.length;){let s=e[t++];if(s<128)i[n++]=String.fromCharCode(s);else if(s>191&&s<224){let o=e[t++];i[n++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){let o=e[t++],r=e[t++],a=e[t++],l=((s&7)<<18|(o&63)<<12|(r&63)<<6|a&63)-65536;i[n++]=String.fromCharCode(55296+(l>>10)),i[n++]=String.fromCharCode(56320+(l&1023))}else{let o=e[t++],r=e[t++];i[n++]=String.fromCharCode((s&15)<<12|(o&63)<<6|r&63)}}return i.join("")},Ot={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,i){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<e.length;s+=3){let o=e[s],r=s+1<e.length,a=r?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,T=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|c>>6,x=c&63;l||(x=64,r||(m=64)),n.push(t[T],t[p],t[m],t[x])}return n.join("")},encodeString(e,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(e):this.encodeByteArray(St(e),i)},decodeString(e,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(e):pi(this.decodeStringToByteArray(e,i))},decodeStringToByteArray(e,i){this.init_();let t=i?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<e.length;){let o=t[e.charAt(s++)],a=s<e.length?t[e.charAt(s)]:0;++s;let c=s<e.length?t[e.charAt(s)]:64;++s;let p=s<e.length?t[e.charAt(s)]:64;if(++s,o==null||a==null||c==null||p==null)throw new Me;let m=o<<2|a>>4;if(n.push(m),c!==64){let x=a<<4&240|c>>2;if(n.push(x),p!==64){let hi=c<<6&192|p;n.push(hi)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Me=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fi=function(e){let i=St(e);return Ot.encodeByteArray(i,!0)},Re=function(e){return fi(e).replace(/\./g,"")},gi=function(e){try{return Ot.decodeString(e,!0)}catch(i){console.error("base64Decode failed: ",i)}return null};function mi(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var bi=()=>mi().__FIREBASE_DEFAULTS__,yi=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},vi=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let i=e&&gi(e[1]);return i&&JSON.parse(i)},Di=()=>{try{return bi()||yi()||vi()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}};var wt=()=>{var e;return(e=Di())===null||e===void 0?void 0:e.config};var X=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((i,t)=>{this.resolve=i,this.reject=t})}wrapCallback(i){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof i=="function"&&(this.promise.catch(()=>{}),i.length===1?i(t):i(t,n))}}};function Tt(){try{return typeof indexedDB=="object"}catch{return!1}}function Et(){return new Promise((e,i)=>{try{let t=!0,n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),e(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;i(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){i(t)}})}var Si="FirebaseError",R=class e extends Error{constructor(i,t,n){super(t),this.code=i,this.customData=n,this.name=Si,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j.prototype.create)}},j=class{constructor(i,t,n){this.service=i,this.serviceName=t,this.errors=n}create(i,...t){let n=t[0]||{},s=`${this.service}/${i}`,o=this.errors[i],r=o?Oi(o,n):"Error",a=`${this.serviceName}: ${r} (${s}).`;return new R(s,a,n)}};function Oi(e,i){return e.replace(wi,(t,n)=>{let s=i[n];return s!=null?String(s):`<${n}?>`})}var wi=/\{\$([^}]+)}/g;function ee(e,i){if(e===i)return!0;let t=Object.keys(e),n=Object.keys(i);for(let s of t){if(!n.includes(s))return!1;let o=e[s],r=i[s];if(Dt(o)&&Dt(r)){if(!ee(o,r))return!1}else if(o!==r)return!1}for(let s of n)if(!t.includes(s))return!1;return!0}function Dt(e){return e!==null&&typeof e=="object"}var ns=4*60*60*1e3;_i.NODE_CLIENT=!0;var A=class{constructor(i,t,n){this.name=i,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(i){return this.multipleInstances=i,this}setServiceProps(i){return this.serviceProps=i,this}setInstanceCreatedCallback(i){return this.onInstanceCreated=i,this}};var N="[DEFAULT]";var Ne=class{constructor(i,t){this.name=i,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(i){let t=this.normalizeInstanceIdentifier(i);if(!this.instancesDeferred.has(t)){let n=new X;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{let s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(i){var t;let n=this.normalizeInstanceIdentifier(i?.identifier),s=(t=i?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(i){if(i.name!==this.name)throw Error(`Mismatching Component ${i.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=i,!!this.shouldAutoInitialize()){if(Ei(i))try{this.getOrInitializeService({instanceIdentifier:N})}catch{}for(let[t,n]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:s});n.resolve(o)}catch{}}}}clearInstance(i=N){this.instancesDeferred.delete(i),this.instancesOptions.delete(i),this.instances.delete(i)}delete(){return f(this,null,function*(){let i=Array.from(this.instances.values());yield Promise.all([...i.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...i.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(i=N){return this.instances.has(i)}getOptions(i=N){return this.instancesOptions.get(i)||{}}initialize(i={}){let{options:t={}}=i,n=this.normalizeInstanceIdentifier(i.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[o,r]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);n===a&&r.resolve(s)}return s}onInit(i,t){var n;let s=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;o.add(i),this.onInitCallbacks.set(s,o);let r=this.instances.get(s);return r&&i(r,s),()=>{o.delete(i)}}invokeOnInitCallbacks(i,t){let n=this.onInitCallbacks.get(t);if(n)for(let s of n)try{s(i,t)}catch{}}getOrInitializeService({instanceIdentifier:i,options:t={}}){let n=this.instances.get(i);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Ti(i),options:t}),this.instances.set(i,n),this.instancesOptions.set(i,t),this.invokeOnInitCallbacks(n,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,n)}catch{}return n||null}normalizeInstanceIdentifier(i=N){return this.component?this.component.multipleInstances?i:N:i}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Ti(e){return e===N?void 0:e}function Ei(e){return e.instantiationMode==="EAGER"}var te=class{constructor(i){this.name=i,this.providers=new Map}addComponent(i){let t=this.getProvider(i.name);if(t.isComponentSet())throw new Error(`Component ${i.name} has already been registered with ${this.name}`);t.setComponent(i)}addOrOverwriteComponent(i){this.getProvider(i.name).isComponentSet()&&this.providers.delete(i.name),this.addComponent(i)}getProvider(i){if(this.providers.has(i))return this.providers.get(i);let t=new Ne(i,this);return this.providers.set(i,t),t}getProviders(){return Array.from(this.providers.values())}};var Ci=[],u=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(u||{}),Mi={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},Ri=u.INFO,Ni={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},Ai=(e,i,...t)=>{if(i<e.logLevel)return;let n=new Date().toISOString(),s=Ni[i];if(s)console[s](`[${n}]  ${e.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`)},ie=class{constructor(i){this.name=i,this._logLevel=Ri,this._logHandler=Ai,this._userLogHandler=null,Ci.push(this)}get logLevel(){return this._logLevel}set logLevel(i){if(!(i in u))throw new TypeError(`Invalid value "${i}" assigned to \`logLevel\``);this._logLevel=i}setLogLevel(i){this._logLevel=typeof i=="string"?Mi[i]:i}get logHandler(){return this._logHandler}set logHandler(i){if(typeof i!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=i}get userLogHandler(){return this._userLogHandler}set userLogHandler(i){this._userLogHandler=i}debug(...i){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...i),this._logHandler(this,u.DEBUG,...i)}log(...i){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...i),this._logHandler(this,u.VERBOSE,...i)}info(...i){this._userLogHandler&&this._userLogHandler(this,u.INFO,...i),this._logHandler(this,u.INFO,...i)}warn(...i){this._userLogHandler&&this._userLogHandler(this,u.WARN,...i),this._logHandler(this,u.WARN,...i)}error(...i){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...i),this._logHandler(this,u.ERROR,...i)}};var Ii=(e,i)=>i.some(t=>e instanceof t),Ct,Mt;function Pi(){return Ct||(Ct=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xi(){return Mt||(Mt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Rt=new WeakMap,Ie=new WeakMap,Nt=new WeakMap,Ae=new WeakMap,xe=new WeakMap;function ki(e){let i=new Promise((t,n)=>{let s=()=>{e.removeEventListener("success",o),e.removeEventListener("error",r)},o=()=>{t(D(e.result)),s()},r=()=>{n(e.error),s()};e.addEventListener("success",o),e.addEventListener("error",r)});return i.then(t=>{t instanceof IDBCursor&&Rt.set(t,e)}).catch(()=>{}),xe.set(i,e),i}function Fi(e){if(Ie.has(e))return;let i=new Promise((t,n)=>{let s=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",r),e.removeEventListener("abort",r)},o=()=>{t(),s()},r=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",o),e.addEventListener("error",r),e.addEventListener("abort",r)});Ie.set(e,i)}var Pe={get(e,i,t){if(e instanceof IDBTransaction){if(i==="done")return Ie.get(e);if(i==="objectStoreNames")return e.objectStoreNames||Nt.get(e);if(i==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return D(e[i])},set(e,i,t){return e[i]=t,!0},has(e,i){return e instanceof IDBTransaction&&(i==="done"||i==="store")?!0:i in e}};function At(e){Pe=e(Pe)}function Bi(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(i,...t){let n=e.call(ne(this),i,...t);return Nt.set(n,i.sort?i.sort():[i]),D(n)}:xi().includes(e)?function(...i){return e.apply(ne(this),i),D(Rt.get(this))}:function(...i){return D(e.apply(ne(this),i))}}function Gi(e){return typeof e=="function"?Bi(e):(e instanceof IDBTransaction&&Fi(e),Ii(e,Pi())?new Proxy(e,Pe):e)}function D(e){if(e instanceof IDBRequest)return ki(e);if(Ae.has(e))return Ae.get(e);let i=Gi(e);return i!==e&&(Ae.set(e,i),xe.set(i,e)),i}var ne=e=>xe.get(e);function Pt(e,i,{blocked:t,upgrade:n,blocking:s,terminated:o}={}){let r=indexedDB.open(e,i),a=D(r);return n&&r.addEventListener("upgradeneeded",l=>{n(D(r.result),l.oldVersion,l.newVersion,D(r.transaction),l)}),t&&r.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var Li=["get","getKey","getAll","getAllKeys","count"],Hi=["put","add","delete","clear"],ke=new Map;function It(e,i){if(!(e instanceof IDBDatabase&&!(i in e)&&typeof i=="string"))return;if(ke.get(i))return ke.get(i);let t=i.replace(/FromIndex$/,""),n=i!==t,s=Hi.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Li.includes(t)))return;let o=function(r,...a){return f(this,null,function*(){let l=this.transaction(r,s?"readwrite":"readonly"),c=l.store;return n&&(c=c.index(a.shift())),(yield Promise.all([c[t](...a),s&&l.done]))[0]})};return ke.set(i,o),o}At(e=>z($({},e),{get:(i,t,n)=>It(i,t)||e.get(i,t,n),has:(i,t)=>!!It(i,t)||e.has(i,t)}));var Be=class{constructor(i){this.container=i}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($i(t)){let n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}};function $i(e){let i=e.getComponent();return i?.type==="VERSION"}var Ge="@firebase/app",xt="0.10.17";var w=new ie("@firebase/app"),Vi="@firebase/app-compat",ji="@firebase/analytics-compat",Ui="@firebase/analytics",Zi="@firebase/app-check-compat",zi="@firebase/app-check",Ki="@firebase/auth",Wi="@firebase/auth-compat",Yi="@firebase/database",Ji="@firebase/data-connect",Qi="@firebase/database-compat",qi="@firebase/functions",Xi="@firebase/functions-compat",en="@firebase/installations",tn="@firebase/installations-compat",nn="@firebase/messaging",sn="@firebase/messaging-compat",on="@firebase/performance",rn="@firebase/performance-compat",an="@firebase/remote-config",ln="@firebase/remote-config-compat",cn="@firebase/storage",dn="@firebase/storage-compat",hn="@firebase/firestore",un="@firebase/vertexai",_n="@firebase/firestore-compat",pn="firebase";var fn="[DEFAULT]",gn={[Ge]:"fire-core",[Vi]:"fire-core-compat",[Ui]:"fire-analytics",[ji]:"fire-analytics-compat",[zi]:"fire-app-check",[Zi]:"fire-app-check-compat",[Ki]:"fire-auth",[Wi]:"fire-auth-compat",[Yi]:"fire-rtdb",[Ji]:"fire-data-connect",[Qi]:"fire-rtdb-compat",[qi]:"fire-fn",[Xi]:"fire-fn-compat",[en]:"fire-iid",[tn]:"fire-iid-compat",[nn]:"fire-fcm",[sn]:"fire-fcm-compat",[on]:"fire-perf",[rn]:"fire-perf-compat",[an]:"fire-rc",[ln]:"fire-rc-compat",[cn]:"fire-gcs",[dn]:"fire-gcs-compat",[hn]:"fire-fst",[_n]:"fire-fst-compat",[un]:"fire-vertex","fire-js":"fire-js",[pn]:"fire-js-all"};var Le=new Map,mn=new Map,He=new Map;function kt(e,i){try{e.container.addComponent(i)}catch(t){w.debug(`Component ${i.name} failed to register with FirebaseApp ${e.name}`,t)}}function $e(e){let i=e.name;if(He.has(i))return w.debug(`There were multiple attempts to register component ${i}.`),!1;He.set(i,e);for(let t of Le.values())kt(t,e);for(let t of mn.values())kt(t,e);return!0}var bn={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},I=new j("app","Firebase",bn);var Ve=class{constructor(i,t,n){this._isDeleted=!1,this._options=Object.assign({},i),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new A("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this.checkDestroyed(),this._automaticDataCollectionEnabled=i}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(i){this._isDeleted=i}checkDestroyed(){if(this.isDeleted)throw I.create("app-deleted",{appName:this._name})}};function Lt(e,i={}){let t=e;typeof i!="object"&&(i={name:i});let n=Object.assign({name:fn,automaticDataCollectionEnabled:!1},i),s=n.name;if(typeof s!="string"||!s)throw I.create("bad-app-name",{appName:String(s)});if(t||(t=wt()),!t)throw I.create("no-options");let o=Le.get(s);if(o){if(ee(t,o.options)&&ee(n,o.config))return o;throw I.create("duplicate-app",{appName:s})}let r=new te(s);for(let l of He.values())r.addComponent(l);let a=new Ve(t,n,r);return Le.set(s,a),a}function U(e,i,t){var n;let s=(n=gn[e])!==null&&n!==void 0?n:e;t&&(s+=`-${t}`);let o=s.match(/\s|\//),r=i.match(/\s|\//);if(o||r){let a=[`Unable to register library "${s}" with version "${i}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&r&&a.push("and"),r&&a.push(`version name "${i}" contains illegal characters (whitespace or "/")`),w.warn(a.join(" "));return}$e(new A(`${s}-version`,()=>({library:s,version:i}),"VERSION"))}var yn="firebase-heartbeat-database",vn=1,Z="firebase-heartbeat-store",Fe=null;function Ht(){return Fe||(Fe=Pt(yn,vn,{upgrade:(e,i)=>{switch(i){case 0:try{e.createObjectStore(Z)}catch(t){console.warn(t)}}}}).catch(e=>{throw I.create("idb-open",{originalErrorMessage:e.message})})),Fe}function Dn(e){return f(this,null,function*(){try{let t=(yield Ht()).transaction(Z),n=yield t.objectStore(Z).get($t(e));return yield t.done,n}catch(i){if(i instanceof R)w.warn(i.message);else{let t=I.create("idb-get",{originalErrorMessage:i?.message});w.warn(t.message)}}})}function Ft(e,i){return f(this,null,function*(){try{let n=(yield Ht()).transaction(Z,"readwrite");yield n.objectStore(Z).put(i,$t(e)),yield n.done}catch(t){if(t instanceof R)w.warn(t.message);else{let n=I.create("idb-set",{originalErrorMessage:t?.message});w.warn(n.message)}}})}function $t(e){return`${e.name}!${e.options.appId}`}var Sn=1024,On=30*24*60*60*1e3,je=class{constructor(i){this.container=i,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Ue(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return f(this,null,function*(){var i,t;try{let s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Bt();return((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(r=>r.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{let a=new Date(r.date).valueOf();return Date.now()-a<=On}),this._storage.overwrite(this._heartbeatsCache))}catch(n){w.warn(n)}})}getHeartbeatsHeader(){return f(this,null,function*(){var i;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Bt(),{heartbeatsToSend:n,unsentEntries:s}=wn(this._heartbeatsCache.heartbeats),o=Re(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return w.warn(t),""}})}};function Bt(){return new Date().toISOString().substring(0,10)}function wn(e,i=Sn){let t=[],n=e.slice();for(let s of e){let o=t.find(r=>r.agent===s.agent);if(o){if(o.dates.push(s.date),Gt(t)>i){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Gt(t)>i){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}var Ue=class{constructor(i){this.app=i,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return Tt()?Et().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Dn(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(i){return f(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let s=yield this.read();return Ft(this.app,{lastSentHeartbeatDate:(t=i.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:i.heartbeats})}else return})}add(i){return f(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let s=yield this.read();return Ft(this.app,{lastSentHeartbeatDate:(t=i.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...i.heartbeats]})}else return})}};function Gt(e){return Re(JSON.stringify({version:2,heartbeats:e})).length}function Tn(e){$e(new A("platform-logger",i=>new Be(i),"PRIVATE")),$e(new A("heartbeat",i=>new je(i),"PRIVATE")),U(Ge,xt,e),U(Ge,xt,"esm2017"),U("fire-js","")}Tn("");var En="firebase",Cn="11.1.0";U(En,Cn,"app");var se=class e{constructor(i){this.http=i}API_URL="https://rickandmortyapi.com/api/character/";getCharacters(){return this.http.get(this.API_URL)}getFirstEpisode(i){return this.http.get(i)}static \u0275fac=function(t){return new(t||e)(st(ft))};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})};function Nn(e,i){if(e&1&&(b(0,"div",1)(1,"div",2)(2,"div",3),B(3,"img",4),b(4,"div",5)(5,"h3"),C(6),v(),b(7,"div",6),B(8,"div"),b(9,"p",7),C(10),v()(),b(11,"p",8),C(12," Last known location: "),v(),b(13,"p",9),C(14),v(),b(15,"p",8),C(16," First seen in: "),v(),b(17,"p",9),C(18),v()()()()()),e&2){let t=i.$implicit,n=we();O(3),ye("src",t.image,ot),O(3),Y(t.name),O(2),F(n.getColorichi(t)),O(2),_t(" ",t.status," - ",t.species," "),O(4),Y(t.location.name),O(4),Te(" ",t.firstEpisode," ")}}var oe=class e{constructor(i){this.service=i}charactersList=[];getCharacterList(){this.service.getCharacters().subscribe(i=>{this.charactersList=i.results})}ngOnInit(){this.getCharacterList(),this.getEpisodeName()}getColorichi(i){return i.status=="Alive"?"alive":i.status=="Dead"?"dead":"unknown"}getEpisodeName(){this.charactersList.forEach((i,t)=>{this.service.getFirstEpisode(i.episode[0]).subscribe(n=>{i.firstEpisode=n.name})})}static \u0275fac=function(t){return new(t||e)(ge(se))};static \u0275cmp=M({type:e,selectors:[["app-characters-list"]],decls:3,vars:0,consts:[[1,"row","w-100","mx-auto","mt-5"],[1,"col-4","mt-5"],[1,"card","w-100","text-light"],[1,"d-flex","body"],[1,"w-50",3,"src"],[1,"m-3"],[1,"d-flex"],[1,"fw-bold"],[1,"text-white-50","fw-bold"],[1,"w-50"]],template:function(t,n){t&1&&(b(0,"div",0),Se(1,Nn,19,8,"div",1,De),v()),t&2&&(O(),Oe(n.charactersList))},styles:[".card[_ngcontent-%COMP%]{background-color:#3c3e44;max-height:300px}img[_ngcontent-%COMP%]{border-radius:5px 0 0 5px;max-height:300px}.alive[_ngcontent-%COMP%]{background-color:green;border-radius:500px;height:15px;width:15px}.dead[_ngcontent-%COMP%]{background-color:red;border-radius:150px;height:15px;width:15px}.unknown[_ngcontent-%COMP%]{background-color:#aaaa;border-radius:150px;height:15px;width:15px}"]})};var L=class e{title="rick-and-morty-app";firebaseConfig={apiKey:"AIzaSyBiUpdBNr4hjAjubWdO5LCLj2mmkKgselU",authDomain:"gassapp-535fc.firebaseapp.com",projectId:"gassapp-535fc",storageBucket:"gassapp-535fc.firebasestorage.app",messagingSenderId:"143340053622",appId:"1:143340053622:web:bb3cff0b01f48c559eab57"};app=Lt(this.firebaseConfig);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=M({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,n){t&1&&B(0,"app-characters-list")},dependencies:[oe]})};var Pn=["*"];var xn=["dialog"];var Vt={animation:!0,transitionTimerDelayMs:5},kn=(()=>{class e{constructor(){this.animation=Vt.animation}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Fn(e){let{transitionDelay:i,transitionDuration:t}=window.getComputedStyle(e),n=parseFloat(i),s=parseFloat(t);return(n+s)*1e3}function jt(e){return typeof e=="string"}function Ze(e){return e!=null}function Bn(e){return e&&e.then}function Ut(e){return(e||document.body).getBoundingClientRect()}function Gn(e){return i=>new Je(t=>{let n=r=>e.run(()=>t.next(r)),s=r=>e.run(()=>t.error(r)),o=()=>e.run(()=>t.complete());return i.subscribe({next:n,error:s,complete:o})})}var Ln=()=>{},{transitionTimerDelayMs:Hn}=Vt,re=new Map,P=(e,i,t,n)=>{let s=n.context||{},o=re.get(i);if(o)switch(n.runningTransition){case"continue":return Qe;case"stop":e.run(()=>o.transition$.complete()),s=Object.assign(o.context,s),re.delete(i)}let r=t(i,n.animation,s)||Ln;if(!n.animation||window.getComputedStyle(i).transitionProperty==="none")return e.run(()=>r()),ce(void 0).pipe(Gn(e));let a=new y,l=new y,c=a.pipe(et(!0));re.set(i,{transition$:a,complete:()=>{l.next(),l.complete()},context:s});let T=Fn(i);return e.runOutsideAngular(()=>{let p=S(i,"transitionend").pipe(g(c),V(({target:x})=>x===i)),m=qe(T+Hn).pipe(g(c));Xe(m,p,l).pipe(g(c)).subscribe(()=>{re.delete(i),e.run(()=>{r(),a.next(),a.complete()})})}),a.asObservable()};var Zt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({})}}return e})();var zt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({})}}return e})();var Kt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({})}}return e})(),Wt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({})}}return e})();var Zo=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,i=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||i()):!1})();var $n=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Yt(e){let i=Array.from(e.querySelectorAll($n)).filter(t=>t.tabIndex!==-1);return[i[0],i[i.length-1]]}var Vn=(e,i,t,n=!1)=>{e.runOutsideAngular(()=>{let s=S(i,"focusin").pipe(g(t),de(o=>o.target));S(i,"keydown").pipe(g(t),V(o=>o.key==="Tab"),ue(s)).subscribe(([o,r])=>{let[a,l]=Yt(i);(r===a||r===i)&&o.shiftKey&&(l.focus(),o.preventDefault()),r===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),n&&S(i,"click").pipe(g(t),ue(s),de(o=>o[1])).subscribe(o=>o.focus())})};var zo=new Date(1882,10,12),Ko=new Date(2174,10,25);var Wo=1e3*60*60*24;var We=1080,jn=24*We,Un=12*We+793,Yo=29*jn+Un,Jo=11*We+204;var Jt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({})}}return e})();var Qt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({})}}return e})(),Zn=(()=>{class e{constructor(){this._ngbConfig=_(kn),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),H=class{constructor(i,t,n){this.nodes=i,this.viewRef=t,this.componentRef=n}};var zn=(()=>{class e{constructor(){this._document=_(Q)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),n=this._document.body,s=n.style,{overflow:o,paddingRight:r}=s;if(t>0){let a=parseFloat(window.getComputedStyle(n).paddingRight);s.paddingRight=`${a+t}px`}return s.overflow="hidden",()=>{t>0&&(s.paddingRight=r),s.overflow=o}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Kn=(()=>{class e{constructor(){this._nativeElement=_(fe).nativeElement,this._zone=_(W),this._injector=_(k)}ngOnInit(){be(()=>P(this._zone,this._nativeElement,(t,n)=>{n&&Ut(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"}),{injector:this._injector,phase:me.MixedReadWrite})}hide(){return P(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=M({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,s){n&2&&(F("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),ve("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Ee],decls:0,vars:0,template:function(n,s){},encapsulation:2})}}return e})(),ae=class{update(i){}close(i){}dismiss(i){}},Wn=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Yn=["animation","backdropClass"],ze=class{_applyWindowOptions(i,t){Wn.forEach(n=>{Ze(t[n])&&(i[n]=t[n])})}_applyBackdropOptions(i,t){Yn.forEach(n=>{Ze(t[n])&&(i[n]=t[n])})}update(i){this._applyWindowOptions(this._windowCmptRef.instance,i),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,i)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(g(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(g(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(i,t,n,s){this._windowCmptRef=i,this._contentRef=t,this._backdropCmptRef=n,this._beforeDismiss=s,this._closed=new y,this._dismissed=new y,this._hidden=new y,i.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,r)=>{this._resolve=o,this._reject=r}),this.result.then(null,()=>{})}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(i);else{let t=this._beforeDismiss();Bn(t)?t.then(n=>{n!==!1&&this._dismiss(i)},()=>{}):t!==!1&&this._dismiss(i)}}_removeModalElements(){let i=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ce(void 0);i.subscribe(()=>{let{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),K(i,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Ke=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(Ke||{}),Jn=(()=>{class e{constructor(){this._document=_(Q),this._elRef=_(fe),this._zone=_(W),this._injector=_(k),this._closed$=new y,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new pe,this.shown=new y,this.hidden=new y}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":jt(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,be(()=>this._show(),{injector:this._injector,phase:me.MixedReadWrite})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,n={animation:this.animation,runningTransition:"stop"},s=P(this._zone,t,()=>t.classList.remove("show"),n),o=P(this._zone,this._dialogEl.nativeElement,()=>{},n),r=K(s,o);return r.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}_show(){let t={animation:this.animation,runningTransition:"continue"},n=P(this._zone,this._elRef.nativeElement,(o,r)=>{r&&Ut(o),o.classList.add("show")},t),s=P(this._zone,this._dialogEl.nativeElement,()=>{},t);K(n,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{S(t,"keydown").pipe(g(this._closed$),V(s=>s.key==="Escape")).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(Ke.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let n=!1;S(this._dialogEl.nativeElement,"mousedown").pipe(g(this._closed$),it(()=>n=!1),tt(()=>S(t,"mouseup").pipe(g(this._closed$),he(1))),V(({target:s})=>t===s)).subscribe(()=>{n=!0}),S(t,"click").pipe(g(this._closed$)).subscribe(({target:s})=>{t===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!n&&this._zone.run(()=>this.dismiss(Ke.BACKDROP_CLICK))),n=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let n=t.querySelector("[ngbAutofocus]"),s=Yt(t)[0];(n||s||t).focus()}}_restoreFocus(){let t=this._document.body,n=this._elWithFocus,s;n&&n.focus&&t.contains(n)?s=n:s=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&P(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=M({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(n,s){if(n&1&&dt(xn,7),n&2){let o;ht(o=ut())&&(s._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,s){n&2&&(at("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),F("modal d-block"+(s.windowClass?" "+s.windowClass:"")),ve("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Ee],ngContentSelectors:Pn,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(n,s){n&1&&(lt(),b(0,"div",1,0)(2,"div",2),ct(3),v()()),n&2&&F("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),Qn=(()=>{class e{constructor(){this._applicationRef=_(pt),this._injector=_(k),this._environmentInjector=_(_e),this._document=_(Q),this._scrollBar=_(zn),this._activeWindowCmptHasChanged=new y,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new pe;let t=_(W);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let n=this._windowCmpts[this._windowCmpts.length-1];Vn(t,n.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(n.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,n,s){let o=s.container instanceof HTMLElement?s.container:Ze(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let r=new ae;t=s.injector||t;let a=t.get(_e,null)||this._environmentInjector,l=this._getContentRef(t,a,n,r,s),c=s.backdrop!==!1?this._attachBackdrop(o):void 0,T=this._attachWindowComponent(o,l.nodes),p=new ze(T,l,c,s.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(T),p.hidden.pipe(he(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),r.close=m=>{p.close(m)},r.dismiss=m=>{p.dismiss(m)},r.update=m=>{p.update(m)},p.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),T.changeDetectorRef.detectChanges(),p}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(n=>n.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let n=J(Kn,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,n){let s=J(Jn,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:n});return this._applicationRef.attachView(s.hostView),t.appendChild(s.location.nativeElement),s}_getContentRef(t,n,s,o,r){return s?s instanceof rt?this._createFromTemplateRef(s,o):jt(s)?this._createFromString(s):this._createFromComponent(t,n,s,o,r):new H([])}_createFromTemplateRef(t,n){let s={$implicit:n,close(r){n.close(r)},dismiss(r){n.dismiss(r)}},o=t.createEmbeddedView(s);return this._applicationRef.attachView(o),new H([o.rootNodes],o)}_createFromString(t){let n=this._document.createTextNode(`${t}`);return new H([[n]])}_createFromComponent(t,n,s,o,r){let a=k.create({providers:[{provide:ae,useValue:o}],parent:t}),l=J(s,{environmentInjector:n,elementInjector:a}),c=l.location.nativeElement;return r.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new H([[c]],l.hostView,l)}_setAriaHidden(t){let n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(s=>{s!==t&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,n)=>{t?n.setAttribute("aria-hidden",t):n.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let n=()=>{let s=this._modalRefs.indexOf(t);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let n=this._windowCmpts.indexOf(t);n>-1&&(this._windowCmpts.splice(n,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qn=(()=>{class e{constructor(){this._injector=_(k),this._modalStack=_(Qn),this._config=_(Zn)}open(t,n={}){let s=$(z($({},this._config),{animation:this._config.animation}),n);return this._modalStack.open(this._injector,t,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({providers:[qn]})}}return e})();var Xt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({})}}return e})();var ei=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({})}}return e})();var ti=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({})}}return e})();var ii=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({})}}return e})();var ni=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({})}}return e})();var si=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({})}}return e})();var oi=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({})}}return e})();var ri=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({})}}return e})();var ai=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({})}}return e})();var Qo=new nt("live announcer delay",{providedIn:"root",factory:()=>100});var li=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({})}}return e})();var ci=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({})}}return e})(),Xn=[Zt,zt,Kt,Wt,Jt,Qt,qt,Xt,ci,ei,ti,ii,ni,si,oi,ri,ai,li],di=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=d({imports:[Xn,Zt,zt,Kt,Wt,Jt,Qt,qt,Xt,ci,ei,ti,ii,ni,si,oi,ri,ai,li]})}}return e})();var le=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=h({type:e,bootstrap:[L]});static \u0275inj=d({providers:[yt(),gt(mt())],imports:[bt,q,di]})};var Ye=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=h({type:e,bootstrap:[L]});static \u0275inj=d({imports:[le,vt]})};export{Ye as a};
